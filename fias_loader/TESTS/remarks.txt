2023-09-08
-----------

В процессе миграции данных  по БФЛ в Дагестане  выявлено порядка 1500 адресов, которые есть в ФИАСе, но отсутствуют в адресном справочнике БФЛ и СРМ. 

Необходимо:

    Выявить причину по которой данные адреса отсутствуют в справочнике СРМ
    Доработать (при необходимости) алгоритм обновления справочника ФИАС, чтобы все адреса попадали в справочник

Реестр  ЛС с отсутствующими адресами (в колонке ГУИД действительные идентификаторы ФИАС) во вложении.


2023-09-25
----------

1) ПОИСК отсутсвующих адресов.
     Дополнительно, где ищем ?????   GAR_FIAS
                                     history

-+ 2) Самое главное, определить типы неуществующих адресов.  ???  (Дома, н не все)

++ 3) Ещё более важное -- создать таблицу.

++ 4) Ещё более важное -- выбрать схему, в которой будет хранится рабочая таблица.

++ 5) Хост для работы.


----------------------------------------------------------------------
2023-09-26 

             -+ Какие UUIDs домов попали в центральную БД. 
             -+ Какие UUIDs домов попали в БД-05.
             -+ Какие UUIDs домов есть GAR_FIAS
             
2023-09-27
          
             -- Нужен стенд для отладки
             
                 ++  Текущая БД
                 ++  05  (01 -- 10)
                 --  Целый кластер ???
                 
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -a -f unnsi_prd_test_20230927.sql unnsi_prd_test 1> d.out 2>d.err &                 

++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_01_20230927.sql unsi_test_01 1> d01.out 2>d01.err &                 
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_02_20230927.sql unsi_test_02 1> d02.out 2>d02.err &                 
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_03_20230927.sql unsi_test_03 1> d03.out 2>d03.err &                 
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_04_20230927.sql unsi_test_04 1> d04.out 2>d04.err &                  
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_05_20230927.sql unsi_test_05 1> d05.out 2>d05.err &                               
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_06_20230927.sql unsi_test_06 1> d06.out 2>d06.err &                  
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_07_20230927.sql unsi_test_07 1> d07.out 2>d07.err &                  
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_08_20230927.sql unsi_test_08 1> d08.out 2>d08.err &                  
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_09_20230927.sql unsi_test_09 1> d09.out 2>d09.err &                  
++ pg_dump -h 10.196.35.165 -U postgres -p 5432 -C -f unsi_test_10_20230927.sql unsi_test_10 1> d10.out 2>d10.err &

--------------------------------
Мучения от собственной глупости.
DROP SERVER IF EXISTS unnsi_prd_s;
CREATE SERVER unnsi_prd_s FOREIGN DATA WRAPPER postgres_fdw
    OPTIONS (dbname 'unnsi_prd_test', host '127.0.0.1', port '5434');
    
#  Помнить об этом нужно    
./post_proc.sh /home/n.chadaev@abrr.local/tmp up_prds_20230925
./


-- Модификация функции  (0, 1, 2)
-- Модификаця таблицы
-- Контрольный запрос 53.

-- Чьи это идентификаторы ????  Почему они не находятся.


2023-09-28 -- Записи без родителей ( 111 домов)
------------
Задача: пересмотреть запрос формирующий  список-агрегат адресных пространств
        Восстановить нарушенную целостнность БД.
        
Как делаем ?   (111 домов)
     1) JOIN С РОДИТЕЛЯМИ    as_addr_obj, ЕСТЬ ЛИ ОНИ ???


Записи без родителей.
-- home JOIN с as_addr_obj --есть ли они ?

2023-10-02  --  Кривой запрос был. У всех "потерянный" был правильный родитель.
----------      
  -- Проверить агрегацию.
  --
  
2023-10-03   Формирование буферной таблицы.  
----------
   unnsi - сторонняя схема, таблицы в ней не изменяются.
   gar_tmp - локальная схема, таблицы в ней модифицируются.
   
   Этапы:
          -- формирование буферной  таблицы, контроль log.
          -- обновления:
                -- адресные пространства,
                -- улицы,
                -- дома.
                
   LOGs

[22:14:17] ...     -- Очистка данных во временной схеме.   
   
[22:14:39] ...     -- Агрегация данных
[22:14:39] ...     -- Агрегация параметров
[22:14:48] ...     -- Агрегация адресных пространств
[22:14:49] ...     -- Агрегация домовладений
[22:14:57] ...     -- Заполнение управляющей таблицы "gar_tmp.xxx_obj_fias"
   
   
Это потом:

[22:15:06] ...  -- stage_41r (Обработка данных)
[22:15:06] ...     -- Адресные регионы, дополнение
[22:15:06] ...     -- Адресные регионы, обновление
[22:15:09] ...     -- Элемент улично-дорожной сети, дополнение
[22:15:10] ...     -- Элемент улично-дорожной сети, обновление
[22:15:33] ...     -- Здания (сооружения), дополнение
[22:15:34] ...     -- Здания (сооружения), обновление




 f_xxx_adr_area_set_data 
-------------------------
                   26250
(1 row)

 f_xxx_adr_house_set_data 
--------------------------
                   617502
(1 row)

 f_xxx_obj_fias_set_data 
-------------------------
                    2065
                   24185
                  611622
(3 rows)

 id_un_export | dt_gar_version | kd_export_type | id_region | nm_area_full  |         dt_export          | nm_user  | seq_value | node_id | id_un_export_by_obj | sch_name | nm_object  | qty_main | qty_aux |                               file_path                                | fserver_name |   host    |     dbname     | port | db_conn_name  
--------------+----------------+----------------+-----------+---------------+----------------------------+----------+-----------+---------+---------------------+----------+------------+----------+---------+------------------------------------------------------------------------+--------------+-----------+----------------+------+---------------
           67 | 0223-09-25     | f              |         6 | Дагестан Респ | 2023-09-26 22:21:46.893425 | postgres | 600071179 |       1 |                 199 | gar_tmp  | adr_area   |     2096 |       7 | /home/n.chadaev@abrr.local/tmp/up_prds_2230925/DATA/adr_area_06.sql    | unnsi_prd_s  | 127.0.0.1 | unnsi_prd_test | 5432 | c_unnsi_prd_s
           67 | 0223-09-25     | f              |         6 | Дагестан Респ | 2023-09-26 22:21:46.893425 | postgres | 600071179 |       1 |                 200 | gar_tmp  | adr_street |    25477 |      55 | /home/n.chadaev@abrr.local/tmp/up_prds_2230925/DATA/adr_street_06.sql  | unnsi_prd_s  | 127.0.0.1 | unnsi_prd_test | 5432 | c_unnsi_prd_s
           67 | 0223-09-25     | f              |         6 | Дагестан Респ | 2023-09-26 22:21:46.893425 | postgres | 600071179 |       1 |                 201 | gar_tmp  | adr_house  |   663156 |     356 | /home/n.chadaev@abrr.local/tmp/up_prds_2230925/DATA/adr_house_06.sql   | unnsi_prd_s  | 127.0.0.1 | unnsi_prd_test | 5432 | c_unnsi_prd_s

----------------------------------------------------------------- 
 
DELETE FROM ONLY gar_tmp.xxx_adr_area;         -- Временная таблица. заполняется данными из "AS_ADDR_OBJ", "AS_REESTR_OBJECTS", "AS_ADM_HIERARCHY", "AS_MUN_HIERARCHY", "AS_OBJECT_LEVEL", "AS_STEADS_PARAMS"
DELETE FROM ONLY gar_tmp.xxx_adr_house;	       -- Адреса домов 
DELETE FROM ONLY gar_tmp.xxx_obj_fias;         -- Дополнительная связь адресных объектов с ГАР-ФИАС
DELETE FROM ONLY gar_tmp.xxx_type_param_value; -- Для каждого объекта хранятся агрегированные пары "Тип" - "Значение"

SELECT * FROM gar_tmp_pcg_trans.f_xxx_adr_area_set_data();
SELECT * FROM gar_tmp_pcg_trans.f_xxx_adr_house_set_data();
SELECT * FROM gar_tmp_pcg_trans.f_xxx_obj_fias_set_data('gar_tmp','gar_tmp','gar_tmp');
SELECT * FROM gar_tmp_pcg_trans.f_set_params_value();

-------------------------------------------------------------------------------------

DELETE FROM ONLY gar_tmp.xxx_adr_area;         --   26250
DELETE FROM ONLY gar_tmp.xxx_adr_house;	       --  617502
DELETE FROM ONLY gar_tmp.xxx_obj_fias;         --  637872
DELETE FROM ONLY gar_tmp.xxx_type_param_value; -- 1065890

-- Идиот, обновлять aux !!!
SELECT * FROM gar_tmp.adr_area_aux;
------------------------------------
id_area	op_sign
192259	U
192263	U     <----- Старьё  
192331	U
22872	U
----------
208140	U
208184	U
208173	U

SELECT * FROM gar_tmp.adr_street_aux;
DELETE FROM gar_tmp.adr_street_aux;
--
SELECT * FROM gar_tmp.adr_house_aux;
DELETE FROM gar_tmp.adr_house_aux;



SELECT * FROM gar_tmp_pcg_trans.f_xxx_adr_area_set_data();   --  26509
SELECT * FROM gar_tmp_pcg_trans.f_xxx_adr_house_set_data();  -- 617502
SELECT * FROM gar_tmp_pcg_trans.f_xxx_obj_fias_set_data('gar_tmp','gar_tmp','gar_tmp');

   --   2076
   --  24433
   -- 617487  --  15 ??

SELECT * FROM gar_tmp_pcg_trans.f_set_params_value(); -- 1065890


SELECT * FROM gar_tmp.xxx_obj_fias;
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 2) AND (id_obj IS NULL); -- 6494
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 1) AND (id_obj IS NULL); --  298
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 0) AND (id_obj IS NULL); --   19

SELECT * FROM gar_tmp.xxx_obj_fias f
   INNER JOIN public.fias_not_found_06u u ON (u.guid = f.obj_guid) -- 160   60 ??

SELECT * FROM public.fias_not_found_06u; -- 220
--
--  Установка последовательностей.
--
SELECT gar_tmp_pcg_trans.f_xxx_obj_seq_crt (
              p_seq_name      := 'gar_tmp.obj_seq' -- Имя последовательности
             ,p_id_region     := 6                 -- ID региона
             ,p_init_value    := 100000000         -- Начальное значение
);

Что произошло с функционалом обновления/дополнения.

SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 2) AND (id_obj IS NULL); -- 6494
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 1) AND (id_obj IS NULL); --  298
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 0) AND (id_obj IS NULL); --   19


Почему не дополнились, не обновились ???
----------------------------------------
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 2) AND (id_obj IS NULL); -- 6494
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 1) AND (id_obj IS NULL); --  298
SELECT * FROM gar_tmp.xxx_obj_fias WHERE (type_object = 0) AND (id_obj IS NULL); --   19

SELECT aa.* FROM gar_tmp.xxx_adr_area aa --  19
   INNER JOIN gar_tmp.xxx_obj_fias xx ON (aa.fias_guid = xx.obj_guid) 
WHERE ((xx.type_object = 0) AND (xx.id_obj IS NULL));   

SELECT aa.* FROM gar_tmp.xxx_adr_area aa -- 298
   INNER JOIN gar_tmp.xxx_obj_fias xx ON (aa.fias_guid = xx.obj_guid) 
WHERE ((xx.type_object = 1) AND (xx.id_obj IS NULL))-- and (nm_addr_obj = 'Юннатов');

SELECT hh.* FROM gar_tmp.xxx_adr_house hh -- 6494
   INNER JOIN gar_tmp.xxx_obj_fias xx ON (hh.fias_guid = xx.obj_guid) 
WHERE ((xx.type_object = 2) AND (xx.id_obj IS NULL)) ;

SELECT hh.* FROM gar_tmp.xxx_adr_house hh -- 111 !!!  и ДОЛЖНЫ ОБНОВЛЯТЬСЯ
   INNER JOIN gar_tmp.xxx_obj_fias xx ON (hh.fias_guid = xx.obj_guid) 
   INNER JOIN public.fias_not_found_06u n ON (hh.fias_guid = n.guid)    
WHERE ((xx.type_object = 2) AND (xx.id_obj IS NULL)) ;


2023-10-04  Что, почему появились "бездомные"
----------


2023-10-05   Пока "несложное и туповатое".
----------    
              02 - Башкирия, посмотрим, будут ли похожие результаты.
                   -- Собрать пакет + view
                   -- Модификация xxx-справочника типов.
                   -- Перезагрузка xxx-таблиц
                   -- Тестовое обновление.
                   
commit 636a458190586e2621d20376bf0ff7820f4dc6f9 (origin/FilterObj)
Author: Чадаев Николай <n.chadaev.tech>
Date:   Wed Oct 4 17:44:43 2023 +0300

    Решение FIX-5

2023-10-06   10 домов, чём причина их потери. Строим тестовое view.
-------------------------------------------------------------------

1) Есть ли у этих  10 домов родители.
2) Если есть, то какие

До конца решено не было.
-------------------------                    

2023-10-09
-----------

  ++  Собрать пакет от 2023-10-06

  ++  Обновление кластер 2

  ++  stage_31r.yaml -- коррекция.

  ++  Бухгалтерия заработала после перезапуска Linux.

  !!  Локальный и удалённые репозитории GIT --сущности различные,
      git pull origin ... вызовет слияние локальной (текущей ветки) и отдалённой веток.
      Таким образом забацал FilterObj в master.
      
  ++ Новый patch для обновления промежуточного справочника адресных пространств.
  

  2023-10-10
  ----------
  
     ++ Посмотреть  log 06, 24 (Дагестан, Краснодар)
        И смотрим локальные БД  (05, 23)  Сочи, Центральный р-н (БЫЛО всё потеряно).
     
     -- Описание, не приводить примеры.  Краснодарский край
     
    SELECT id, object_id, object_guid, change_id, object_name, type_id, type_name
         , obj_level, oper_type_id, prev_id, next_id, update_date, start_date, end_date
         , is_actual, is_active
	FROM gar_fias.as_addr_obj WHERE (object_name = 'Барановка') AND (end_date > NOW());     
     
    Это соотносится с проблемой "активных" предшественников. В случае улиц в Дагестане,
    непонятно то, где была найдена такая улица, неактивная, но неистёкшим сроком актуальностию.
     
     Основная причина "пропажи" адресов заключается в том, что оставшееся от советских времён
     городское районное административное деление может описываеться в БД ГАР-ФИАС записями
     с уровнем 14 и выше, такие записи, являются активными, но период их актуальности 
     закончился. Подчинённые им записи (улицы и дома), так-же могут быть активными, но с 
     неистёкшим периодом актуальности. Это обстоятельство потребовало модификации функции
     "gar_tmp_pcg_trans.f_xxx_adr_area_show_data()", "gar_tmp_pcg_trans.f_xxx_obj_fias_show_data_0/1/2()"
     с целью исключения "пропажи" подчинённых адресных объектов.
     
     Земельные участки, В настоящее  время их данные загружаются в таблицы "gar_fias.as_steads" и
     "gar_fias.as_steads_params". Это первичная загрузка.
     
     Необходимо определить структуру таблицы в схеме "unnsi" для хранения данных о земельных 
     участкаъх, расширить функциональный пакет "gar_tmp_pcg_trans", выполнить доработку python-скриптов.
     -----------------------------------------------------------------------------------------------
     
     -- Подумать о загрузке земельных участков.
        До уровня агрегатов всё будет традиционно,
        далеее выбор: новая таблица, либо  "adr_objects".
        
     -- Параметры земельных участков.     
        
        
     -- "_COMMON" подумать, как отшлифовать её (надо готовить задание для ticker).
     
     -- Активные предщественники, подумать об оптимизации.  !!!!!!!!!!!!!!!!!!!
     -- 
     
     2023-10-10
     -----------
2023-10-11 00:14:12,012 WARNING pg-perfect-ticker ticker task ('r0', 'bg_thr_pool_r', 'exchange_db_con'): error <class 'SystemExit'>: 256
Московская область -- разобраться. !!!!!

ОШИБКА:  команда ON CONFLICT DO UPDATE не может менять строку повторно
HINT:  Проверьте, не содержат ли строки, которые должна добавить команда, дублирующиеся значения, подпадающие под ограничения.
CONTEXT:  SQL-оператор: "INSERT INTO gar_tmp.xxx_adr_area AS z (
----------------------------------------------------------------
               ON CONFLICT (id_addr_obj) DO 
               
               UPDATE
                    SET
                          id_addr_parent   = excluded.id_addr_parent    
                         ,fias_guid        = excluded.fias_guid       
                         ,parent_fias_guid = excluded.parent_fias_guid
                         ,nm_addr_obj      = excluded.nm_addr_obj    
                         ,addr_obj_type_id = excluded.addr_obj_type_id                            
                         ,addr_obj_type    = excluded.addr_obj_type   
                         ,obj_level        = excluded.obj_level       
                         ,level_name       = excluded.level_name      
                          --
                         ,region_code      = excluded.region_code -- 2021-12-01
                         ,area_code        = excluded.area_code  
                         ,city_code        = excluded.city_code  
                         ,place_code       = excluded.place_code 
                         ,plan_code        = excluded.plan_code  
                         ,street_code      = excluded.street_code
                          --                                 
                         ,oper_type_id     = excluded.oper_type_id    
                         ,oper_type_name   = excluded.oper_type_name
                          --
                         ,start_date       = excluded.start_date  -- 2021-12-06
                         ,end_date         = excluded.end_date
                          -- 
                         ,tree_d           = excluded.tree_d          
                         ,level_d          = excluded.level_d         
                  
               WHERE (z.id_addr_obj = excluded.id_addr_obj)"



----------------------------------------------------------------

1) Осталось 252 файла. 
            2) Остановка ticker'ab
            3) Разобраться отдельно.
            
         SELECT   x.id_addr_obj      
                  ,x.id_addr_parent   
                  ,x.fias_guid        
                  ,x.parent_fias_guid 
                  ,x.nm_addr_obj  
                  ,x.addr_obj_type_id     
                  ,x.addr_obj_type    
                  ,x.obj_level        
                  ,x.level_name
                   --
                  ,x.region_code  -- 2021-12-01
                  ,x.area_code    
                  ,x.city_code    
                  ,x.place_code   
                  ,x.plan_code    
                  ,x.street_code    
                   --                                 
                  ,x.oper_type_id     
                  ,x.oper_type_name  
                   --
                  ,x.start_date 
                  ,x.end_date  
                   --                  
                  ,x.tree_d           
                  ,x.level_d          
          
          FROM gar_tmp_pcg_trans.f_xxx_adr_area_show_data (
              p_date          := DATE(current_date)::date     -- Дата, на которую выбираются данные
             ,p_obj_level     := 16::bigint   -- Уровень объекта
             ,p_oper_type_ids := NULL::bigint[] -- Типы операций.
          ) x 
          
          00:22:49] ... [00:22:49]: Error, rc = 256
[00:22:49] ...             psql -h 127.0.0.1 -p 5432 -c "SELECT gar_tmp_pcg_trans.f_xxx_adr_area_set_data (
              p_date          := DATE(current_date)::date     -- Дата, на которую выбираются данные
             ,p_obj_level     := 16::bigint   -- Уровень объекта
             ,p_oper_type_ids := NULL::bigint[] -- Типы операций.
        );
        
 3) счётчик не работает
 
2023-10-12 -- Индексное покрытие ???
----------

   Причина появления дублей (только Московская область). БЛИЖАЙШИЕ РОДИТЕЛИ, ВОТВ ЧЁМ ПРИЧИНА.
   -- адресные объекты  -- тестовое представление
   -- дома
   
  -- адресные объекты, вторая часть рекурсивного запроса, выполняется нормально,
     как с признаком активности, так и без него.
     (номальное выполнение, это 5 адресных объектов, отображающихся без дублей).
     
   -- адресные объекты, полный рекурсивный запрос:    (здесь есть объекты, не имеющие дублей !!!!)
         -- нормально признак активности включен везде.
         -- признак активности выключен только в опорной части.
         -- признаки активности  выключены везде.  ЗАДВОЕНИЕ !!
           
         
   -- План запроса  
         -- признак активности выключен только в опорной части.
     
  -- адресные объекты,
  
--==============================================================================================
2023-10-13
----------

Теперь проверить на 05, будет ли разница??
  -- В зависимой части признак активности выключен / включён.   26531 | 26520  with active  26525 ??
  
  -- Индексное покрытие над GAR_FIAS -- ЧАСТИЧНАЯ РЕВИЗИЯ. 

  -- l0.py отработал нормально, просто у него длительное время сна. 

  
 -- 
2023-10-19 Артефакты, вылывшие при пробной обработке ЗУ.
----------
Артефакты.
---------
nm_fias_guid_parent                 |nm_parent_obj|region_code|parent_type_id|parent_type_name            |parent_level_id|parent_level_name              |
------------------------------------+-------------+-----------+--------------+----------------------------+---------------+-------------------------------+
354baa65-215d-4df5-aec0-1b6dbfada0c9|Пшеничная    |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
3be41afe-4ae9-4a1b-8e22-9990e07ee7ff|Мостовая     |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
5b8bba72-59a1-4e73-b917-848e7dd36c32|Ахульго      |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
64198789-a489-45d9-a15b-111f58d9009a|Финиковая    |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
7248f5e2-99b1-47e2-a5e4-190ea89df774|Ломаная      |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
89e7b4b0-aa0c-4977-b631-79709c13a773|Шиназская    |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
8d58ca8c-a65a-4370-a5d4-584f44ac5b73|Фруктовая    |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |
e31d0897-8a46-48d3-a213-7ae993c50de9|Благородная  |5          |           204|Улица                       |              8|Элемент улично-дорожной сети   |


7daa96c1-5e22-4f5a-a111-06cd36e229a9|Гаражная     |5          |           326|Улица                       |              7|Элемент планировоной структуры|


97299168-9004-412a-ae9c-558d4356c606|Серный       |5          |           158|Поселок                     |              8|Элемент улично-дорожной сети   |
43c3311c-9cc2-494c-8065-98f62396d78c|Приморский   |5          |           158|Поселок                     |              8|Элемент улично-дорожной сети   |
ccb32695-884a-4961-8bd7-c9e5a356f9ad|Рыбный       |5          |           158|Поселок                     |              8|Элемент улично-дорожной сети   |
f2f1d515-8536-4442-b44d-2544c5c39e95|Привольный   |5          |           158|Поселок                     |              8|Элемент улично-дорожной сети   |
f447f6c0-5d94-4033-b72a-4116bcc08a6b|Акъ-таш      |5          |           150|Местность                   |              8|Элемент улично-дорожной сети   |
f8cc583a-1e69-4ce0-944c-da6bdd4c110e|Красная роза |5          |           194|Садовое неком-е товарищество|              8|Элемент улично-дорожной сети   |
fc826836-3d68-465e-a176-ffa0568bceec|Баъли-бав    |5          |           150|Местность                   |              8|Элемент улично-дорожной сети   |

1) Путаница в типах
2) Путаница в уровнях
 
-- -------------------------------------------------------------------

2023-10-20  Слава Богу, что начал заниматься  земельными участками.
-------------------------------------------------------------------
Итоги:
======

  -- Очень внимательно определять окна, используя ID
 
  -- INSERT ( дополнение) -- дубль принудительно не обновлять полность.
     переводить его в историю, далее делать неактивным, оставляя в БД
     повторять впрерваннуб операцию
 
  -- UPDATE -- так-же дубль делать неактивным.
 
  -- Функции получающие атомарные записи работать будут, но без индексного покрытия.
 
  -- Что будет с функциями типа ++UPLOAD, 
                                  UNLOAD.  -- обратно деактивированные записи уже не попадут
                                              есть вероятность потери обновлений.
                                              (а если грузить все)
     ??
     и с функциями , выполняющими постобработку. деактивированные записи не попадают
     в процесс. ???
     
     Что делаем ??
       -- f_xxx_adr_area_show_data -- изменяю  определение окна.
       -- f_adr_area_ins -- ополнительное обращение к GAP-процедурам (at CONTINUE)
       -- p_adr_area_ins -- Деактивания вместо принудительного обновления и воздание 
                            новой записи.
                            
       В случае успреха -- повторить для street, house, as_steads
       
       -- p_adr_area_ins -- деактивания дубля.
       
     
  -- Не забывать про AUX-структуры.    
  
  --Проверить индесное покрытие и планы в процессе поиска активных предшественников.
  
  2023-10-21
  ----------
  unsi_test_05=# SELECT gar_tmp_pcg_trans.f_xxx_obj_fias_set_data ('gar_tmp', 'gar_tmp', 'gar_tmp', 'gar_tmp');
ЗАМЕЧАНИЕ:  отношение "__adr_area_fias" уже существует, пропускается
ЗАМЕЧАНИЕ:  отношение "__adr_area_fias" уже существует, пропускается
ЗАМЕЧАНИЕ:  отношение "__adr_area_fias" уже существует, пропускается

 f_xxx_obj_fias_set_data 
-------------------------
                    2086
                   24434
                  617506
                  295133
(4 строки)


2023-10-23
----------
select count (1) from gar_tmp.xxx_adr_area;  --  26520
select count (1) from gar_tmp.xxx_adr_house; -- 617693
select count (1) from gar_tmp.xxx_adr_stead; -- 295157
------------------------------------------------------

-- 1) adr_area -- создание и обновление, избежать "изменения" UUID.
      gap-таблицы.
      
-- 2) Очищать adr_area_aux

?? 3) Активные прешественники, улицы и дома.

--===============================================================================================

-- 3) Функции типа gap_put -- исключить обновление ON CONFLICT (практически пишется одно и то-же).
      Важно сохранить первоначальную дату.
      
-- 4) Пункт 1 - избежать изменения UUID приводит к появлению множественных "активных" записей.
        -- активная запись в эксплуатационном покрытии (один критерий актуальности)
        -- активная запись в процессинговом покрытии (два усиленных критерия актуальности).
        
   5) UUID нужны для поиска родителей, при добавлении/обновлении записей из ФИАС.
   
        -- Таблица "uuid_twins"
        
             -- UUID_ORIG uuid              -- PK    
             -- UUID_TWIN uuid              -- ie1 
             -- id_orig         -- ЕС НСИ.  -- ie2
             -- id_twin         -- ФИАС             ---??? НОВЫЙ !!!!
             -- type_object                 0, 1, 2, 3, 4 (4 steads) 
             
   6) Когда это происходит ????
   
             -- В момент обработки исключений (заполняется/создаётся) запись.
             -- ВАсе подчинённые строки обновляются -- единая структура.
             
                         
   7) Зачем нужно функции  "а_adr_xxx_get (схема GUID) --????? (для определения правильного
       родителя). 
--===============================================================================================
-- 2023-10-24 --
----------------
             
        # Заполнение таблицы с дефектными данными.
        self.gar_fias_set_adr_data = """SELECT gar_fias_pcg_load.f_adr_area_set_data (
              p_fias_guid := (gar_tmp_pcg_trans.f_adr_area_get('{0}',{1})).nm_fias_guid::uuid
             ,p_date      := '{2}'::date
             ,p_descr     := (gar_tmp_pcg_trans.f_adr_area_get('{0}',{1})).nm_area_full::text);"""     
             
        # Обработка таблицы с дефектными данными.
        self.gar_fias_addr_obj_update_children = """SELECT * FROM gar_fias_pcg_load.f_addr_obj_update_children (
         p_date_1    := '{0}'::date
        ,p_obj_level := ARRAY{1}::integer[]      
        ,p_date_2    := {2}::date           
        );"""             
             
                Как ??   адресные пространства --> адресные пространств, улицы, дома и земельные участки.
                         улицы                 -->        дома и земельные участки.   
                         дома                  -- ??? всё остаётся по прежнему ??
                         
 МИНИМАЛЬНЫЙ ОБЪЁМ ДОРАБОТОК, НЕОБХОДИМЫЙ ДЛЯ ВЫПУСКА НОВОГО РЕЛИЗА.
 
    1) f_xxx_adr_area_show()  -изменить определение окна
    2) load -- двойники.      -изменить определение окна.
    3) f_adr_area/street/home/ ins/upd   -- вместо CONTINUE,  обращение к GAP-функции.
    4) GAP-функции,  убрать UPDATE для исключения ON CONFLICT.  DO NOTING.
    
ВЫПУСКАТЬ НА master.  FilterObj - остаётся опытной платформой.
                      steads -- до лучших времён.
2023-10-25
----------

-- Список типов ФИАС, который необходимо переместится на уровень, отличный от 8
     +
-- Активные предшественники   

      -- gar_fias_pcg_load.f_addr_obj_get_twins()    -- Утилита
      -- gar_fias_pcg_load.f_addr_obj_get_parents()  -- Обеспечивает её работу.
      
   А это зачем  ???   
   
2023-10-26
----------
  Активные предшественники,
  Но сначала upgrade "fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.sql" на большом хосте.
  До этого ...  9, 11 и 13 октября
  
$>git status
# On branch master
# Your branch is ahead of 'origin/master' by 28 commits.
#   (use "git push" to publish your local commits)
 ---------------------------------------------------------------------------------
 Updating 9a0b081..dc26bef
Fast-forward
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_area_ins.sql            |    74 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_area_upd.sql            |    23 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_house_ins.sql           |    23 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_house_upd.sql           |    25 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_street_ins.sql          |    24 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_street_upd.sql          |    25 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_adr_area_show_data.sql  |     8 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_xxx_adr_area_gap_put.sql   |    25 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_xxx_adr_house_gap_put.sql  |    36 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_xxx_adr_street_gap_put.sql |    24 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.err                  |   346 ++--
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.err.bak              |   124 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.log                  |   172 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.log.bak              |   172 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.sql                  |   289 ++--
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.sql.bak              |    85 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/stage_25_tmp_build.csv                 |     4 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/version.sql                            |     2 +-
 fias_loader/TESTS/X0_crt_view.sql                                         |   339 ++++
 fias_loader/TESTS/Y_BUILD/05/l.err                                        |   342 ++++
 fias_loader/TESTS/Y_BUILD/05/l.out                                        |   295 ++++
 fias_loader/TESTS/Y_BUILD/05/stage_4.1.sql                                |    39 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.2.sql                                |     9 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.3.sql                                |     8 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.4.sql                                |     8 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.5.sql                                |     6 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.6.sql                                |    14 +-
 fias_loader/TESTS/Y_BUILD/05/t411.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t411.out                                     |    94 ++
 fias_loader/TESTS/Y_BUILD/05/t421.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t421.out                                     |    88 +
 fias_loader/TESTS/Y_BUILD/05/t431.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t431.out                                     |   214 +++
 fias_loader/TESTS/Y_BUILD/05/t441.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t441.out                                     |   379 +++++
 fias_loader/TESTS/Y_BUILD/05/t451.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t451.out                                     |   864 ++++++++++
 fias_loader/TESTS/Y_BUILD/05/t461.err                                     |     0
 fias_loader/TESTS/Y_BUILD/05/t461.out                                     |  1582 +++++++++++++++++
 fias_loader/TESTS/Y_BUILD/50/stage_4.1.sql                                |    20 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.2.sql                                |    20 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.3.sql                                |    20 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.4.sql                                |    20 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.5.sql                                |    24 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.6.sql                                |    22 +
 fias_loader/TESTS/Y_BUILD/50/t41.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t41.out                                      |    51 +
 fias_loader/TESTS/Y_BUILD/50/t42.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t42.out                                      |    56 +
 fias_loader/TESTS/Y_BUILD/50/t43.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t43.out                                      |   238 +++
 fias_loader/TESTS/Y_BUILD/50/t44.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t44.out                                      |   253 +++
 fias_loader/TESTS/Y_BUILD/50/t45.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t45.out                                      |  1814 ++++++++++++++++++++
 fias_loader/TESTS/Y_BUILD/50/t46.err                                      |     0
 fias_loader/TESTS/Y_BUILD/50/t46.out                                      | 11758 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 fias_loader/TESTS/remarks.txt                                             |   162 +-
 58 files changed, 19441 insertions(+), 779 deletions(-)
------------------------------------------------------------------------
$>git status
# On branch master
# Your branch is ahead of 'origin/master' by 34 commits.  ????
#   (use "git push" to publish your local commits)
#
nothing to commit, working directory clean
$>

Посмотреть log и сравнить !!!

Пройдено:
      -- gar_fias_pcg_load.f_addr_obj_get_twins()    -- Утилита
      -- gar_fias_pcg_load.f_addr_obj_get_parents()  -- Обеспечивает её работу.
      
-- ============================================================================

 1) Выбрать ВСЕ записи, относящиеся к рассматриваемому региону.
 Они сгруппированы, ID группы это максимальное значение это максимальное значение
 change_id
 
    ,max (aa1.change_id) 
                       OVER (PARTITION BY aa1.id_addr_parent  
                                         ,aa1.addr_obj_type_id  
                                         ,UPPER(aa1.nm_addr_obj) 
                    ) AS id_lead
                    
 Допустим этого

2) Выбрать записи принадлежащие рассматриваемой группе
     Старшей записи передать всех подчинённых.
     Подчинённые дективировать (как, ,.....date_end)    
     
2023-10-30   
----------
           -- Активные предшественники, ревизия кода и оптимизация,
              (планы запросов, логика), место для запоминания "старого" uuid.
              
           -- Структура для хранения старого uuid --  ???
           
           -- Населённые пункты и т.д   и   т.п,  имеющие уровень 8.
              Элементы дорожно-планировочной структуры, они должны перейти на уровень выше.
             
           -- Почему не загрузились улицы             
              
2023-10-31   Обновление функционала. загрузки.
----------

2023-11-01  Собираю загрузочный пакет. + процедура управляющая индексами в схеме GAR_FIAS.
----------  
              Тестирование на: 

              unsi_test_23  --+ 
              unsi_test_50
              
2023-11-08      Что делаем ?
----------
       -+       Дополняю массив "fias_ids"  недостающими кодами.
                Они берутся из соответствующих таблиц базы 05, 23, 50.
            
       -+       Меняется запрос, формирующий данные для структуры "gar_tmp.xxx_adr_area"
                Для выбранного набора типов либо выполняется понижение уровня    --> 6
                либо 7 --> 8 (смотри базу № 5).
                
       -+       Проверить функции для "xxx_obj_fias".
       
       -+       Оформить patch (в нём создание twin-таблиц) и обновление массивов "fias_ids".
       
       --       Перенести все изменения в ветку master. Руками, gar_fias_load, gar_tmp_trans
                собрать уже в master.
                
       -+       Проверить управление индексами в gar_fias.
       
       --       Генератор parsing-scripts, включитьв текст создаваемого скрипта
                вызов функции, удаляющей индексы в gar_fias.
                
       -+       Py-сценарии для этапа 3  
       
       -+       Дополнительные скрипты для этапа 4
       
---------------------------------------------------------------------------------------------
2023-11-10

$>git push origin FilterObj
Username for 'https://github.com': nick-ch58@yandex.ru
Password for 'https://nick-ch58@yandex.ru@github.com': 
Подсчет объектов: 101, готово.
Delta compression using up to 4 threads.
Сжатие объектов: 100% (101/101), готово.
Запись объектов: 100% (101/101), 10.48 MiB | 584.00 KiB/s, готово.
Total 101 (delta 68), reused 0 (delta 0)
remote: Resolving deltas: 100% (68/68), completed with 37 local objects.
remote: warning: See https://gh.io/lfs for more information.
remote: warning: File fias_loader/TESTS/Y_BUILD/23/_OLD_process.out is 58.63 MB; this is larger than GitHub's recommended maximum file size of 50.00 MB
remote: warning: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.
To https://github.com/NickChadaev/pg_tools/
   bbf602f..1332c31  FilterObj -> FilterObj

   
   
   2023-11-13
   ----------   
                  -- Ревизия py-кода + сокращение атрибутного состава YAML-3
                  
-- --------------------------------------------------------------------------------------
--     Для обсуждения.
-- --------------------------------------------------------------------------------------

$>python stage_3_yaml.py  ../Yamls/_Small_cluster stage_31r.yaml 3, \('unnsi', 'unnsi', 'unnsi', 'gar_tmp'\), 6, '2023-12-12' 

** Control **

True
True
True
True
False
True
True
True
True
True
True
True

**  Global **

1
13
unnsi
unnsi
unnsi
gar_tmp
gar_tmp
gar_tmp
gar_tmp

** stage_3_I **

Создание рабочих индексов в схеме gar_fias. False-удаление, True-удаление,создание.
False
True

** stage_3_9 **

Заполнение таблицы с активными предшественниками
False
DATE(current_date)
16
1
True
Обработка таблицы с активными предшественниками, переподчинение и деактивация
False
DATE(current_date)
Повторное/Контрольное отображение дубликатов
False
DATE(current_date)
16
1

** stage_3_0 **

Установка признака LOGGED/UNLOGGED у таблиц в схеме gar_tmp
False
True
Очистка данных во временной схеме.
False
[1, 2, 7]
Смена индексного покрытия в отдалённых таблицах
True
True
True
True
True

** stage_3_1 **

Загрузка данных из таблицы ADR_AREA_TYPE
False
Загрузка данных из таблицы ADR_STREET_TYPE
False
Загрузка данных из таблицы ADR_HOUSE_TYPE
False
Загрузка регионального фрагмента из таблицы ADR_AREA
False
Загрузка регионального фрагмента из таблицы ADR_STREET
False
Загрузка регионального фрагмента из таблицы ADR_HOUSE
False
True
Установка последовательностей
False
gar_tmp.obj_seq
gar_tmp.obj_hist_seq
100000000
gar_tmp
gar_tmp
gar_tmp

** stage_3_2 **

Актуализация справочников (промежуточные XXX структуры)
[]
[1]
Промежуточный справочник типов адресных пространств
True
[]
UPDATE gar_tmp.xxx_adr_area_type SET fias_ids = fias_ids || 340::bigint WHERE (id_area_type = 51);
SELECT * FROM gar_tmp.xxx_adr_area_type ORDER BY 2;
Промежуточный справочник типов улиц
True
[]
None
SELECT * FROM gar_tmp.xxx_adr_street_type ORDER BY 2;
Промежуточный справочник типов домовладений
True
[]
None
SELECT * FROM gar_tmp.xxx_adr_house_type ORDER BY 2;

** stage_3_3 **
Агрегация данных
False
Агрегация параметров
[5, 6, 7, 8, 10, 11]
False
Агрегация адресных пространств
DATE(current_date)
10
None
False
Агрегация домовладений
DATE(current_date)
None
False
True
True
True
Заполнение управляющей таблицы "gar_tmp.xxx_obj_fias"
$>
-- --------------------------------------------------------------------------------------

2023-11-13  Перед накатом пакетов делать накат патча.

На большо хосте -- работает ветка FilterObj

$>git pull origin FilterObj
remote: Enumerating objects: 421, done.
remote: Counting objects: 100% (121/121), done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 421 (delta 116), reused 115 (delta 115), pack-reused 300
Receiving objects: 100% (421/421), 13.23 MiB | 9.15 MiB/s, done.
Resolving deltas: 100% (285/285), completed with 47 local objects.
From https://github.com/NickChadaev/pg_tools
 * branch            FilterObj  -> FETCH_HEAD
Updating 98e129b..b91c4bb
Fast-forward
 fias_loader/DBMS/GAR_FIAS/createTablesGarFias_1.sql                             |     27 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_addr_obj_update_children.sql |    159 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_addr_obj_update_parent.sql   |     63 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_adr_area_set_data.sql        |    115 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_adr_area_show_data.sql       |    389 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_get_twins.sql           |     49 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_set_data.sql            |    116 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_show_data.sql           |    391 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_obj_agg.sql                  |     65 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_obj_get_parents.sql          |    250 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_obj_update_children.sql      |    205 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_obj_update_parent.sql        |     50 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_adr_area_get_twins.sql            |     30 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_adr_area_set_data.sql             |    109 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_adr_area_show_data.sql            |    335 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/PROCEDURE/p_twin_addr_objects_put.sql        |     54 +
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.err                        |     83 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.err.bak                    |    112 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.log                        |     84 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.log.bak                    |     84 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.sql                        |   1109 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/gar_fias_pcg_load.sql.bak                    |   1099 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/stage_25_gar_build.csv                       |     11 +-
 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/version.sql                                  |      2 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_area_post_proc_90.sql                 |     14 +
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_house_post_proc_90.sql                |     13 +
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_street_post_proc_90.sql               |     13 +
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_area_get.sql                  |     29 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_area_ins.sql                  |     27 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_area_upd.sql                  |     27 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_house_get.sql                 |     34 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_house_ins.sql                 |     28 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_house_upd.sql                 |     25 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_street_get.sql                |     25 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_street_ins.sql                |     27 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_adr_street_upd.sql                |     27 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_adr_area_show_data.sql        |     90 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_adr_object_get_level.sql      |     52 +
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_obj_fias_0.sql                |      7 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_obj_fias_1.sql                |      5 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/fp_adr_house_upd.sql                |     28 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_adr_area_ins.sql                 |     56 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_adr_area_upd.sql                 |     34 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_adr_house_ins.sql                |     10 +
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_adr_street_ins.sql               |     17 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_adr_street_upd.sql               |     37 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/PROCEDURE/p_gar_fias_crt_idx.sql             |     21 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.err                        |    432 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.err.bak                    |    407 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.log                        |    175 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.log.bak                    |    175 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.sql                        |    610 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/gar_tmp_trans_pcg.sql.bak                    |    597 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/stage_25_tmp_build.csv                       |      5 +-
 fias_loader/DBMS/GAR_TMP_PCG_TRANS/version.sql                                  |      2 +-
 fias_loader/DBMS/process.log                                                    |     48 +
 fias_loader/DBMS/process.out                                                    |   1285 +
 fias_loader/DBMS/process.sql                                                    |      2 +
 fias_loader/DBMS/xxx_all_types_build_patch_20231108.csv                         |     28 +
 fias_loader/DBMS/xxx_all_types_build_patch_20231108.sql                         |     66 +
 fias_loader/TESTS/G31_work_tbl_check.sql                                        |    206 +
 fias_loader/TESTS/G3_crt_view.sql                                               |     11 +-
 fias_loader/TESTS/G3_work_tbl_check.sql                                         |    191 +-
 fias_loader/TESTS/Y_BUILD/01/_TEST_street_get_parents.sql                       |    154 +
 fias_loader/TESTS/Y_BUILD/01/process.err                                        |      2 +
 fias_loader/TESTS/Y_BUILD/01/process.log                                        |     64 +
 fias_loader/TESTS/Y_BUILD/01/process.out                                        |    800 +
 fias_loader/TESTS/Y_BUILD/01/process.sql                                        |      6 +
 fias_loader/TESTS/Y_BUILD/01/stage_31_01.csv                                    |     16 +
 fias_loader/TESTS/Y_BUILD/01/stage_3_01.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.1.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.2.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.3.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.4.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.5.sql                                      |     23 +
 fias_loader/TESTS/Y_BUILD/01/stage_4.6.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/01/stage_gar_c_01.csv                                 |     11 +-
 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_area_get_parents.xlsx#                |      1 +
 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_house_get_parents.csv#                |      1 +
 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_street_get_parents.csv#               |      1 +
 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_update_level_0.xlsx#                  |      1 +
 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_update_level_1.xlsx#                  |      1 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.csv                         |    256 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.sql                         |      7 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.xlsx                        |    Bin 0 -> 19509 bytes
 fias_loader/TESTS/Y_BUILD/05/_TEST_as_adr_obj_type.csv                          |    356 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_as_adr_obj_type.sql                          |    118 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_house_get_parents.csv                        |   7902 ++++++
 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents.csv                       |   1055 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents.sql                       |    117 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents_1.sql                     |    604 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_children_0.sql                        |     51 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_children_1.sql                        |     77 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.csv                           |     18 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.sql                           |     43 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.xlsx                          |    Bin 0 -> 53684 bytes
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_1.csv                           |   1113 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_1.xlsx                          |    Bin 0 -> 125175 bytes
 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_2.csv                           |    314 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_xxx_adr_area_type.csv                        |     91 +
 fias_loader/TESTS/Y_BUILD/05/_TEST_xxx_adr_street_type.csv                      |     47 +
 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.err                     |      0
 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.log                     |     40 +
 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.out                     |     41 +
 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.sql                     |      2 +
 fias_loader/TESTS/Y_BUILD/05/patch_20231128.sql                                 |     82 +
 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05.csv                  |     88 +
 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05.xlsx                 |    Bin 0 -> 7837 bytes
 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05_1.xlsx               |    Bin 0 -> 6001 bytes
 fias_loader/TESTS/Y_BUILD/05/process.err                                        |     30 +
 fias_loader/TESTS/Y_BUILD/05/process.log                                        |     93 +
 fias_loader/TESTS/Y_BUILD/05/process.out                                        |  10491 +++++++
 fias_loader/TESTS/Y_BUILD/05/process.sql                                        |     10 +
 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.err                     |    135 +
 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.log                     |     39 +
 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.out                     |    701 +
 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.sql                     |      2 +
 fias_loader/TESTS/Y_BUILD/05/stage_31_05.csv                                    |     20 +
 fias_loader/TESTS/Y_BUILD/05/stage_3_01.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/05/stage_3_05.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/05/stage_4.1.sql                                      |     39 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.2.sql                                      |     12 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.3.sql                                      |      5 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.4.sql                                      |     11 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.5.sql                                      |      7 +-
 fias_loader/TESTS/Y_BUILD/05/stage_4.6.sql                                      |      6 +-
 fias_loader/TESTS/Y_BUILD/05/stage_gar_c_01.csv                                 |     13 +
 fias_loader/TESTS/Y_BUILD/05/stage_gar_c_05.csv                                 |     11 +-
 fias_loader/TESTS/Y_BUILD/05/t41.out                                            |    427 +-
 fias_loader/TESTS/Y_BUILD/05/t42.out                                            |    115 +-
 fias_loader/TESTS/Y_BUILD/05/t43.out                                            |    975 +-
 fias_loader/TESTS/Y_BUILD/05/t44.out                                            |    226 +-
 fias_loader/TESTS/Y_BUILD/05/twins_05.csv                                       |      4 +
 fias_loader/TESTS/Y_BUILD/05/twins_05_1.csv                                     |      8 +
 fias_loader/TESTS/Y_BUILD/05/twins_05_2.csv                                     |      8 +
 fias_loader/TESTS/Y_BUILD/23/_OLD_process.err                                   |     27 +
 fias_loader/TESTS/Y_BUILD/23/_OLD_process.out                                   | 183870 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 fias_loader/TESTS/Y_BUILD/23/_TEST_23.csv                                       |     36 +
 fias_loader/TESTS/Y_BUILD/23/_TEST_23.xlsx                                      |    Bin 0 -> 11386 bytes
 fias_loader/TESTS/Y_BUILD/23/_TEST_street_get_parent_1.sql                      |     34 +
 fias_loader/TESTS/Y_BUILD/23/_TEST_street_get_parents.sql                       |    220 +
 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_area_type.sql                          |    249 +
 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_house_type.sql                         |    117 +
 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_street_type.sql                        |    155 +
 fias_loader/TESTS/Y_BUILD/23/gar_tmp.xxx_object_type_alias.sql                  |     85 +
 fias_loader/TESTS/Y_BUILD/23/process.err                                        |      3 +
 fias_loader/TESTS/Y_BUILD/23/process.log                                        |     93 +
 fias_loader/TESTS/Y_BUILD/23/process.out                                        |     63 +
 fias_loader/TESTS/Y_BUILD/23/process.sql                                        |     10 +
 fias_loader/TESTS/Y_BUILD/23/stage_31_01.csv                                    |     16 +
 fias_loader/TESTS/Y_BUILD/23/stage_31_23.csv                                    |     20 +
 fias_loader/TESTS/Y_BUILD/23/stage_3_01.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/23/stage_3_23.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.1.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.2.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.3.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.4.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.5.sql                                      |     23 +
 fias_loader/TESTS/Y_BUILD/23/stage_4.6.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/23/stage_gar_c_01.csv                                 |     13 +
 fias_loader/TESTS/Y_BUILD/50/.~lock._TEST_50.csv#                               |      1 +
 fias_loader/TESTS/Y_BUILD/50/_OLD_process.out                                   |  30103 ++++++++++++++++++++
 fias_loader/TESTS/Y_BUILD/50/_TEST_50.csv                                       |    179 +
 fias_loader/TESTS/Y_BUILD/50/_TEST_street_get_parents.sql                       |    885 +
 fias_loader/TESTS/Y_BUILD/50/patch_20231128.sql                                 |    101 +
 fias_loader/TESTS/Y_BUILD/50/process.err                                        |     35 +
 fias_loader/TESTS/Y_BUILD/50/process.log                                        |     93 +
 fias_loader/TESTS/Y_BUILD/50/process.out                                        |  11100 ++++++++
 fias_loader/TESTS/Y_BUILD/50/process.sql                                        |     10 +
 fias_loader/TESTS/Y_BUILD/50/stage_31_23.csv                                    |     20 +
 fias_loader/TESTS/Y_BUILD/50/stage_31_50.csv                                    |     20 +
 fias_loader/TESTS/Y_BUILD/50/stage_3_23.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/50/stage_3_50.csv                                     |     23 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.1.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.2.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.3.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.4.sql                                      |     21 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.5.sql                                      |     23 +
 fias_loader/TESTS/Y_BUILD/50/stage_4.6.sql                                      |     22 +
 fias_loader/TESTS/Y_BUILD/50/stage_gar_c_50.csv                                 |     13 +
 fias_loader/TESTS/remarks.txt                                                   |    494 +-
 
 load_main/GarProcess/__init__.pyc                                               |    Bin 0 -> 152 bytes
 load_main/GarProcess/stage_3_proc.py                                            |     24 +-
 load_main/GarProcess/stage_3_proc.pyc                                           |    Bin 0 -> 10403 bytes
 load_main/GarProcess/stage_3_yaml.py                                            |     53 +-
 load_main/GarProcess/stage_3_yaml.pyc                                           |    Bin 0 -> 11854 bytes
 load_main/MainProcess/__init__.pyc                                              |    Bin 0 -> 153 bytes
 load_main/MainProcess/fd_0.pyc                                                  |    Bin 0 -> 3063 bytes
 load_main/MainProcess/fd_log.pyc                                                |    Bin 0 -> 4598 bytes
 load_main/Yamls/_Big_cluster/stage_31r.yaml                                     |     21 +-
 load_main/Yamls/_Big_cluster/stage_41r.yaml                                     |     14 +-
 load_main/Yamls/_Small_cluster/stage_31r.yaml                                   |     31 +-
 load_main/Yamls/_Small_cluster/stage_41r.yaml                                   |     12 +-
 load_main/load_mainCrtScripts.py                                                |      5 +-
 load_main/load_mainStage3.py                                                    |     20 +-
 load_main/process.err                                                           |    104 +
 load_main/process.log                                                           |     22 +
 
 197 files changed, 261678 insertions(+), 3989 deletions(-)
 create mode 100644 fias_loader/DBMS/GAR_FIAS/createTablesGarFias_1.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_addr_obj_update_children.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_addr_obj_update_parent.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_adr_area_set_data.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/_NEW_f_adr_area_show_data.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_get_twins.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_set_data.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_area_show_data.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/FUNCTION/f_addr_obj_agg.sql
 create mode 100644 fias_loader/DBMS/GAR_FIAS_PCG_LOAD/PROCEDURE/p_twin_addr_objects_put.sql
 create mode 100644 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_area_post_proc_90.sql
 create mode 100644 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_house_post_proc_90.sql
 create mode 100644 fias_loader/DBMS/GAR_TMP_PCG_TRANS/DO/adr_street_post_proc_90.sql
 create mode 100644 fias_loader/DBMS/GAR_TMP_PCG_TRANS/FUNCTION/f_xxx_adr_object_get_level.sql
 create mode 100644 fias_loader/DBMS/process.log
 create mode 100644 fias_loader/DBMS/process.out
 create mode 100644 fias_loader/DBMS/process.sql
 create mode 100644 fias_loader/DBMS/xxx_all_types_build_patch_20231108.csv
 create mode 100644 fias_loader/DBMS/xxx_all_types_build_patch_20231108.sql
 create mode 100644 fias_loader/TESTS/G31_work_tbl_check.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/_TEST_street_get_parents.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/process.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/process.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/process.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_31_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_3_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.2.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.3.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.4.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.5.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/01/stage_4.6.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_area_get_parents.xlsx#
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_house_get_parents.csv#
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_street_get_parents.csv#
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_update_level_0.xlsx#
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/.~lock._TEST_update_level_1.xlsx#
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_area_get_parents.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_as_adr_obj_type.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_as_adr_obj_type.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_house_get_parents.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_street_get_parents_1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_children_0.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_children_1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_0.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_1.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_1.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_update_level_2.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_xxx_adr_area_type.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/_TEST_xxx_adr_street_type.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/p6_process_20231024_161608.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/patch_20231128.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/plan_f_addr_area_show_data_05_1.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/process.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/process.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/process.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/r0_process_20231024_203503.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/stage_31_05.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/stage_3_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/stage_3_05.csv
 create mode 100755 fias_loader/TESTS/Y_BUILD/05/stage_gar_c_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/twins_05.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/twins_05_1.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/05/twins_05_2.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_OLD_process.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_OLD_process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_TEST_23.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_TEST_23.xlsx
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_TEST_street_get_parent_1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/_TEST_street_get_parents.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_area_type.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_house_type.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/gar_tmp.adr_street_type.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/gar_tmp.xxx_object_type_alias.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/process.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/process.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/process.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_31_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_31_23.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_3_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_3_23.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.2.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.3.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.4.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.5.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/23/stage_4.6.sql
 create mode 100755 fias_loader/TESTS/Y_BUILD/23/stage_gar_c_01.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/.~lock._TEST_50.csv#
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/_OLD_process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/_TEST_50.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/_TEST_street_get_parents.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/patch_20231128.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/process.err
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/process.log
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/process.out
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/process.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_31_23.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_31_50.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_3_23.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_3_50.csv
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.1.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.2.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.3.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.4.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.5.sql
 create mode 100644 fias_loader/TESTS/Y_BUILD/50/stage_4.6.sql
 create mode 100755 fias_loader/TESTS/Y_BUILD/50/stage_gar_c_50.csv
 
 create mode 100644 load_main/GarProcess/__init__.pyc
 create mode 100644 load_main/GarProcess/stage_3_proc.pyc
 create mode 100644 load_main/GarProcess/stage_3_yaml.pyc
 create mode 100644 load_main/MainProcess/__init__.pyc
 create mode 100644 load_main/MainProcess/fd_0.pyc
 create mode 100644 load_main/MainProcess/fd_log.pyc
 create mode 100644 load_main/process.err
 create mode 100644 load_main/process.log

 
GarProcess
            stage_3_yaml.py
            stage_3_proc.py

load_mainCrtScripts.py
load_mainStage3.py
